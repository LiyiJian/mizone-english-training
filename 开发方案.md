# 达能脉动 Brand Manager 英语面试强化训练应用 - 开发方案

## 一、产品定位

面向饮料行业品牌经理、两周后参加达能脉动 Brand Manager 面试的候选人，提供结构化的每日 240 分钟英语强化训练。纯离线网页应用，浏览器打开即用。

## 二、技术路线

- **架构**：纯静态 SPA（Single Page Application），一个 `index.html` 入口 + 多个 JS/CSS 文件
- **无任何外部依赖**：不使用 npm/node/React 等，全部原生 HTML/CSS/JS
- **离线可用**：所有资源本地加载，无需网络
- **音频方案**：使用浏览器内置 `SpeechSynthesis API`（Web Speech API）生成英文语音，无需音频文件
- **录音方案**：使用浏览器 `MediaRecorder API` 录制口语练习
- **数据存储**：`localStorage`，支持 JSON 导出/导入
- **运行方式**：直接双击 `index.html` 在 Chrome/Edge/Safari 中打开即可（使用传统 `<script>` 标签，不用 ES modules，避免 file:// CORS 问题）

## 三、信息架构（页面结构）

```
index.html (SPA 入口)
  └── 顶部导航栏
        ├── 进度看板
        ├── 今日训练
        ├── 听力训练
        ├── 写作训练
        ├── 口语训练
        ├── 每日测验
        ├── 我的素材
        └── 设置（导入/导出）
```

### 页面说明

| 页面       | 核心组件                                            |
| -------- | ----------------------------------------------- |
| **进度看板** | 连续学习天数、14天进度条、模块得分折线图（Canvas）、薄弱词汇列表、今日vs昨日对比卡片 |
| **今日训练** | 当日训练流程卡片（4个阶段）、全局倒计时器（240分钟）、阶段切换指引             |
| **听力训练** | TTS播放控制、原文显示/隐藏、听写输入区、关键词抓取练习、自动评分结果            |
| **写作训练** | 邮件模板展示、改写练习编辑器、结构评分（6维度雷达）、参考范文对比               |
| **口语训练** | 汇报提纲卡片、录音按钮+波形、自评打分表（5维度）、关键句型提示                |
| **每日测验** | 混合题型（选择+填空+改错+复述）、倒计时、即时评分+解析                   |
| **我的素材** | 新增/编辑/删除自定义案例和方法论、标签分类                          |
| **设置**   | JSON导出/导入、重置进度、学习日期设置                           |

## 四、每日 240 分钟训练编排

- **听力训练**：90 分钟（权重最高）
  - 精听（30min）：完整段落 TTS 播放 -> 听写 -> 关键词抓取
  - 跟读（30min）：逐句播放 -> 录音跟读 -> 对比原文
  - 泛听理解（30min）：听完整材料 -> 回答理解题
- **写作训练**：80 分钟
  - 模板学习（20min）：学习当日邮件模板结构
  - 改写练习（40min）：根据场景重写邮件
  - 结构自查（20min）：对照评分维度自评
- **口语训练**：50 分钟
  - 提纲准备（15min）：阅读汇报提纲 + 关键句型
  - 录音练习（25min）：录制口头汇报
  - 自评复盘（10min）：回听 + 填写自评表
- **每日测验 + 复习**：20 分钟
  - 综合测验（15min）：10-15道混合题
  - 错题/薄弱点回顾（5min）

## 五、14 天内容主题安排

- **Day 1-2**：Self-Introduction（个人背景、职业亮点、STAR 故事法入门）
- **Day 3-4**：Marketing Case - Brand Campaign（品牌活动案例、campaign相关词汇）
- **Day 5-6**：Marketing Case - Consumer Insights（消费者洞察、数据驱动决策）
- **Day 7-8**：Marketing Methodology - 4P/Brand Positioning（营销框架、定位理论）
- **Day 9-10**：Marketing Methodology - Digital & Social（数字营销、社媒策略）
- **Day 11-12**：Business Reporting（工作汇报、数据呈现、建议提案）
- **Day 13-14**：Mock Interview Comprehensive（全模拟面试、综合冲刺）

每天包含：1组听力材料（TTS文本）、1封邮件练习、1个口头汇报题目、1套测验题。

## 六、数据结构设计（localStorage）

```javascript
// 存储 key: "bizEnglishApp"
{
  "settings": {
    "startDate": "2026-02-20",
    "currentDay": 1,
    "dailyMinutes": 240
  },
  "dailyProgress": {
    "1": {
      "date": "2026-02-20",
      "listening": { "score": 85, "timeSpent": 5400, "dictationAccuracy": 0.82, "keywordsFound": 8, "completed": true },
      "writing": { "score": 78, "timeSpent": 4800, "structureScores": { "subject": 4, "opening": 3, "purpose": 4, "keyPoints": 3, "actionItems": 4, "tone": 3 }, "completed": true },
      "speaking": { "score": 70, "timeSpent": 3000, "selfEval": { "fluency": 3, "vocabulary": 4, "structure": 3, "pronunciation": 3, "confidence": 4 }, "completed": true },
      "quiz": { "score": 82, "details": [], "completed": true }
    }
  },
  "weakPoints": {
    "vocabulary": ["brand equity", "market penetration"],
    "sentences": ["I'd like to walk you through..."],
    "quizErrors": [{ "day": 1, "questionId": "q3", "type": "vocabulary" }]
  },
  "customContent": {
    "cases": [{ "id": "c1", "title": "...", "scenario": "...", "keywords": [], "createdAt": "..." }],
    "methodologies": [{ "id": "m1", "title": "...", "points": [], "createdAt": "..." }]
  },
  "streakDays": 0,
  "lastActiveDate": null
}
```

## 七、文件清单

```
商务英语面试学习程序/
  index.html                 -- SPA 入口（含导航、页面容器）
  css/
    style.css                -- 全局样式（响应式布局）
  js/
    app.js                   -- SPA 路由、初始化、全局状态
    storage.js               -- localStorage 封装（读写、导入导出）
    timer.js                 -- 训练计时器组件
    tts.js                   -- 文本转语音封装（SpeechSynthesis）
    recorder.js              -- 录音封装（MediaRecorder）
    scoring.js               -- 评分算法（听写/写作结构/关键词匹配）
    charts.js                -- Canvas 图表（折线图、雷达图）
    pages/
      dashboard.js           -- 进度看板页面
      today.js               -- 今日训练页面
      listening.js           -- 听力训练页面
      writing.js             -- 写作训练页面
      speaking.js            -- 口语训练页面
      quiz.js                -- 每日测验页面
      custom.js              -- 我的素材页面
      settings.js            -- 设置页面
    data/
      content.js             -- 14天完整训练内容（听力文本、邮件、汇报题、测验题）
      vocabulary.js          -- 核心词汇库（品牌管理/营销/FMCG 专业词汇）
```

共计 17 个文件，全部为纯文本文件（HTML/CSS/JS），无需编译。

## 八、核心实现要点

### 听力模块（TTS 方案）
- 使用 `window.speechSynthesis` + `SpeechSynthesisUtterance`
- 设置 `lang = 'en-US'`，优先选择美式发音 voice
- 支持调节语速（0.8x / 1.0x / 1.2x）
- 听写评分：用户输入文本 vs 原文，按词计算 Levenshtein 相似度
- 关键词抓取：从段落中提取 5-8 个关键词，用户输入后比对

### 写作模块（结构评分）
- 6 维度评分：Subject Line / Opening / Purpose / Key Points / Action Items / Tone
- 规则检测：检查是否包含典型结构标记词（如 "I'm writing to..."、"Please find..."、"Action required:"）
- 用户可对照范文自评，系统辅助检测结构完整性

### 口语模块（录音）
- `MediaRecorder API` 录制 webm 音频
- 录完可回放
- 提供自评打分表（流利度/词汇/结构/发音/自信度，1-5分）

### 进度看板（Canvas 图表）
- 手写轻量 Canvas 绑定，折线图展示 14 天各模块得分趋势
- 雷达图展示写作/口语各维度
- 连续学习天数 streak 计算
- 薄弱词汇/句型 TOP10 展示

## 九、验收标准

1. 双击 `index.html` 在 Chrome 中打开，所有功能正常
2. 14 天每天都有完整训练内容（听力文本 + 邮件练习 + 口头汇报题 + 测验题）
3. 听力：能播放、能听写、能评分
4. 写作：能看模板、能写练习、能获得结构评分
5. 口语：能录音、能回放、能自评
6. 测验：能答题、即时评分、记录错题
7. 看板：展示连续天数、得分趋势图、薄弱点
8. 数据：关闭重开进度不丢失；能导出/导入 JSON
9. 我的素材：能新增、编辑、删除自定义案例和方法论
10. 界面全中文，训练内容全英文，美式表达
